---
// ZonasComunes.astro 

import { getLanguageFromUrl, t, setCurrentLanguage } from '../i18n/utils/translator';

const currentLang = getLanguageFromUrl(Astro.url.pathname);
setCurrentLanguage(currentLang);

import coworkingImg from '../assets/coworking/rooftoop.webp'; // Agrega tu imagen
import rooftopImg from '../assets/pixel-terraza-hero-2.webp'; // Ya disponible
import gymImg from '../assets/zona-ejercicio.webp'; // Agrega tu imagen
import petZoneImg from '../assets/pet-zone.webp'; // Agrega tu imagen
import bikeImg from '../assets/bici-parking.webp'; // Agrega tu imagen
import eventsImg from '../assets/pixel-cowork-001.webp'; // Ya disponible

const amenidades = [
  {
    icono: 'M8.25 21v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21m0 0h4.5V3.545M12.75 21h7.5V10.75M2.25 21h1.5m18 0h-18M2.25 9l4.5-1.636M18.75 3l-1.5.545m0 6.205l3 1m1.5.5l-1.5-.5M6.75 7.364V3h-3v18m3-13.636l10.5-3.819',
    titulo: "Coworking y sala de reuniones",
    descripcion: "Espacios modernos con wifi de alta velocidad para trabajar, estudiar o reunirte con otros residentes.",
    color: 'bg-pixel-blue',
    imagen: coworkingImg
  },
  {
    icono: 'M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z',
    titulo: "Rooftop con fire pits",
    descripcion: "Disfruta de las mejores vistas del norte de Bogotá, comparte atardeceres únicos y haz nuevos amigos junto al fuego.",
    color: 'bg-pixel-orange',
    imagen: rooftopImg
  },
  {
    icono: 'M15.75 10.5V6a3.75 3.75 0 10-7.5 0v4.5m11.356-1.993l1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 01-1.12-1.243l1.264-12A1.125 1.125 0 015.513 7.5h12.974c.576 0 1.059.435 1.119.007zM8.625 10.5a.375.375 0 11-.75 0 .375.375 0 01.75 0zm7.5 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z',
    titulo: "Área de ejercicio al aire libre y TRX",
    descripcion: "Mantente activo y saludable todos los días sin salir de casa.",
    color: 'bg-pixel-green',
    imagen: gymImg
  },
  {
    icono: 'M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z',
    titulo: "Bici parking con taller",
    descripcion: "Guarda y cuida tu bicicleta en un espacio seguro, siempre lista para rodar.",
    color: 'bg-pixel-brown',
    imagen: bikeImg
  }
];

---

<section id="zonas-comunes" class="section bg-pixel-orange/5">
  <div class="container">
    
    <div class="text-center mb-12 md:mx-20 mx-0">
      <span class="inline-block text-pixel-orange font-semibold text-sm uppercase tracking-wider mb-2">
        {t('zonas_comunes.badge')}
      </span>
      <h2 class="text-4xl md:text-6xl font-normal mb-6 cal-sans">
        {t('zonas_comunes.title')} 
      </h2>
      <p class="text-lg text-gray-700 max-w-4xl mx-auto">
        {t('zonas_comunes.description')}
      </p>
    </div>
    
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8 mb-16 md:mx-20 mx-0">
      {amenidades.map((amenidad, index) => (
        <div class="group relative overflow-hidden rounded-xl shadow-lg transform transition-all duration-500 hover:-translate-y-2 hover:shadow-2xl border-2 border-gray-200 pixel-hover">
          
          <div class="relative h-64 overflow-hidden">
            <img 
              src={amenidad.imagen.src} 
              alt={amenidad.titulo}
              class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110"
            />
            <div class={`absolute inset-0 ${amenidad.color} opacity-85 transition-opacity duration-300 group-hover:opacity-75`}></div>
          </div>
          
          <div class="absolute inset-0 p-6 flex flex-col justify-between">
            <div class="w-16 h-16 bg-white/20 rounded-xl flex items-center justify-center backdrop-blur-sm">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8 text-white">
                <path stroke-linecap="round" stroke-linejoin="round" d={amenidad.icono} />
              </svg>
            </div>
            
            <div class="mt-auto">
              <h3 class="text-2xl font-bold text-white mb-3 cal-sans">
                {amenidad.titulo}
              </h3>
              <p class="text-white/95 leading-relaxed text-sm">
                {amenidad.descripcion}
              </p>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  /* Animaciones mejoradas para las cards con imágenes */
  .pixel-hover:hover {
    transform: translateY(-8px) scale(1.02);
  }
  
  /* Efecto parallax sutil en hover */
  .group:hover img {
    transform: scale(1.1);
  }
  
  /* Responsive para móviles */
  @media (max-width: 768px) {
    .pixel-hover:hover {
      transform: translateY(-4px);
    }
    
    .group:hover img {
      transform: scale(1.05);
    }
  }
  
  /* Improved accessibility */
  @media (prefers-reduced-motion: reduce) {
    .pixel-hover,
    .group img {
      transition: none;
    }
    
    .pixel-hover:hover,
    .group:hover img {
      transform: none;
    }
  }
  
  /* Efecto de overlay en hover */
  .group:hover .absolute.inset-0 {
    background: linear-gradient(135deg, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.1) 100%);
  }
</style>