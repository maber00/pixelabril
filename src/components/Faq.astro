---
import { getLanguageFromUrl, t, setCurrentLanguage } from '../i18n/utils/translator';

const currentLang = getLanguageFromUrl(Astro.url.pathname);
setCurrentLanguage(currentLang);

const faqs = [
  {
    pregunta: t('faq.questions.q1.question'),
    respuesta: t('faq.questions.q1.answer')
  },
  {
    pregunta: t('faq.questions.q2.question'),
    respuesta: t('faq.questions.q2.answer')
  },
  {
    pregunta: t('faq.questions.q3.question'),
    respuesta: t('faq.questions.q3.answer')
  },
  {
    pregunta: t('faq.questions.q4.question'),
    respuesta: t('faq.questions.q4.answer')
  },
  {
    pregunta: t('faq.questions.q5.question'),
    respuesta: t('faq.questions.q5.answer')
  },
  {
    pregunta: t('faq.questions.q6.question'),
    respuesta: t('faq.questions.q6.answer')
  },
  {
    pregunta: t('faq.questions.q7.question'),
    respuesta: t('faq.questions.q7.answer')
  },
  {
    pregunta: t('faq.questions.q8.question'),
    respuesta: t('faq.questions.q8.answer')
  }
];
---

<section id="faq" class="section bg-pixel-green/10">
  <div class="container">
    <h2 class="section-title text-6xl text-pixel-green">{t('faq.title')}</h2>
    
    <div class="max-w-4xl mx-auto">
      <div class="grid gap-4 md:grid-cols-2">
        {faqs.map((faq, i) => (
          <div class="bg-white p-6 rounded-lg shadow-md hover:shadow-lg transition-shadow">
            <h3 class="text-lg font-semibold mb-2 flex items-start">
              <span class="text-pixel-green mr-2 font-bold">Q.</span>
              {faq.pregunta}
            </h3>
            <p class="text-gray-600 pl-6">{faq.respuesta}</p>
          </div>
        ))}
      </div>
      
      <div class="mt-12 bg-white p-8 rounded-lg shadow-lg text-center">
        <h3 class="text-2xl font-bold mb-4">{t('faq.contact.title')}</h3>
        <p class="text-lg mb-6">{t('faq.contact.description')}</p>
        <a 
          href="https://wa.me/573158649598?text=Hola,%20tengo%20una%20pregunta%20sobre%20Pixel%20Living" 
          class="bg-pixel-green hover:bg-green-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors inline-flex items-center"
          target="_blank"
          rel="noopener noreferrer"
        >
          {t('faq.contact.button')}
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5 ml-2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3" />
          </svg>
        </a>
      </div>
    </div>
</section>